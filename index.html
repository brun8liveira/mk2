<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<title>Mortal Kombat II â€“ Mega Drive</title>

<script>
  /* ==============================
     CONFIGURAÃ‡ÃƒO EMULATORJS
     ============================== */

  EJS_DEBUG_XX = true;
  EJS_threads = false;              // obrigatÃ³rio no GitHub Pages

  EJS_player     = "#game";
  EJS_core       = "genesis_plus_gx";
  EJS_gameUrl    = "roms/mk2.bin";
  EJS_pathtodata = "data/";

  EJS_startOnLoaded = true;
  EJS_fullscreenOnLoaded = false;

  /* ðŸŽ® FORÃ‡A CONTROLE MEGA DRIVE 6 BOTÃ•ES */
  EJS_coreOptions = {
    genesis_plus_gx: {
      input_device_p1: "6button"
    }
  };
</script>

<script src="data/loader.js"></script>

<style>
html, body {
  margin: 0;
  background: black;
  height: 100%;
  overflow: hidden;
  font-family: Arial, sans-serif;
}

#game {
  width: 100vw;
  height: 100vh;
}

/* Overlay inicial */
#overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.9);
  color: white;
  font-size: 26px;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
  cursor: pointer;
}

#overlay span {
  padding: 20px 34px;
  background: #222;
  border: 2px solid #fff;
  border-radius: 12px;
}

#overlay:hover span {
  background: #333;
}
</style>
</head>

<body>

<div id="overlay">
  <span>â–¶ TOCAR PARA JOGAR</span>
</div>

<div id="game"></div>

<script>
  /* ==============================
     INÃCIO MANUAL (mobile friendly)
     ============================== */

  const overlay = document.getElementById("overlay");

  overlay.addEventListener("click", async () => {

    // ðŸ”Š Libera Ã¡udio (obrigatÃ³rio no iOS)
    const AudioContext = window.AudioContext || window.webkitAudioContext;
    const audioCtx = new AudioContext();
    await audioCtx.resume();

    overlay.remove();

    // tenta fullscreen (se permitido)
    document.documentElement.requestFullscreen?.();

    // garante leitura correta do gamepad
    setTimeout(() => {
      EJS_emulator?.gamepad?.update?.();
    }, 500);
  });
</script>

</body>
</html>
